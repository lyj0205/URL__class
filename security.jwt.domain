'''

import com.example.noticeboard.security.jwt.dto.Token;
import jakarta.persistence.*;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Getter;
import lombok.NoArgsConstructor;

@Builder
@Entity
@Getter
@NoArgsConstructor
@AllArgsConstructor
public class RefreshToken {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    @Column(nullable = false)
    private Long tokenId;

    @Column(nullable = false)
    private String token;

    @Column(nullable = false)
    private String keyEmail;

    public static RefreshToken defaultRefreshToken() {
        return RefreshToken.builder()
                .tokenId(1L)
                .token(" ")
                .keyEmail(" ")
                .build();
    }

    public static RefreshToken creareRefreshToken(Token token) {
        return RefreshToken.builder()
                .keyEmail(token.getKey())
                .token(token.getRefreshToken())
                .build();
    }

}

`RefreshToken` í´ë˜ìŠ¤ëŠ” **ì‚¬ìš©ìì˜ ë¦¬í”„ë ˆì‹œ í† í°ì„ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ê³  ê´€ë¦¬í•˜ê¸° ìœ„í•œ JPA ì—”í‹°í‹° í´ë˜ìŠ¤**ì…ë‹ˆë‹¤. 

---

### âœ… í´ë˜ìŠ¤ ì„¤ëª…

```java
@Builder
@Entity
@Getter
@NoArgsConstructor
@AllArgsConstructor
public class RefreshToken { ... }
```

* `@Entity`: ì´ í´ë˜ìŠ¤ëŠ” JPAê°€ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸”ë¡œ ë§¤í•‘ë©ë‹ˆë‹¤. â†’ ì‹¤ì œ DBì— `refresh_token` ê°™ì€ í…Œì´ë¸”ë¡œ ì €ì¥ë©ë‹ˆë‹¤.
* `@Builder`: ë¹Œë” íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ê°ì²´ë¥¼ ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.
* `@Getter`: ëª¨ë“  í•„ë“œì— ëŒ€í•œ getter ë©”ì„œë“œë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.
* `@NoArgsConstructor` / `@AllArgsConstructor`: ê¸°ë³¸ ìƒì„±ìì™€ ëª¨ë“  í•„ë“œë¥¼ ì¸ìë¡œ ë°›ëŠ” ìƒì„±ìë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

---

### âœ… í•„ë“œ ì„¤ëª…

```java
@Id
@GeneratedValue(strategy = GenerationType.IDENTITY)
@Column(nullable = false)
private Long tokenId;
```

* ê¸°ë³¸í‚¤(`PK`) ì—­í• ì„ í•˜ëŠ” IDì…ë‹ˆë‹¤.
* `IDENTITY` ì „ëµì€ DBì—ì„œ ìë™ ì¦ê°€ë˜ëŠ” ê°’(AUTO\_INCREMENT)ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

```java
@Column(nullable = false)
private String token;
```

* ì‹¤ì œ ì €ì¥ë˜ëŠ” **ë¦¬í”„ë ˆì‹œ í† í° ê°’**ì…ë‹ˆë‹¤.

```java
@Column(nullable = false)
private String keyEmail;
```

* í† í°ê³¼ ì—°ê²°ëœ ì‚¬ìš©ì ì‹ë³„ í‚¤(ì˜ˆ: ì´ë©”ì¼)ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

---

### âœ… ë©”ì„œë“œ ì„¤ëª…

#### 1. `defaultRefreshToken()`

```java
public static RefreshToken defaultRefreshToken() {
    return RefreshToken.builder()
            .tokenId(1L)
            .token(" ")
            .keyEmail(" ")
            .build();
}
```

* ê¸°ë³¸ê°’ìœ¼ë¡œ ì±„ì›Œì§„ "ë¹ˆ ë¦¬í”„ë ˆì‹œ í† í° ê°ì²´"ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* ì˜ˆì™¸ ìƒí™© ë“±ì—ì„œ **ê¸°ë³¸ í† í° ê°ì²´**ê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### 2. `creareRefreshToken(Token token)`

```java
public static RefreshToken creareRefreshToken(Token token) {
    return RefreshToken.builder()
            .keyEmail(token.getKey())
            .token(token.getRefreshToken())
            .build();
}
```

* ì „ë‹¬ë°›ì€ `Token` ê°ì²´ë¡œë¶€í„° í•„ìš”í•œ ì •ë³´ë¥¼ êº¼ë‚´ì„œ `RefreshToken` ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
* `Token` í´ë˜ìŠ¤ì—ëŠ” ì•„ë§ˆë„ `getKey()`ì™€ `getRefreshToken()` ë©”ì„œë“œê°€ ì •ì˜ë˜ì–´ ìˆì„ ê²ƒì…ë‹ˆë‹¤.

ğŸ“ ì˜¤íƒ€ ì£¼ì˜:

* `creareRefreshToken` â†’ ì•„ë§ˆë„ **createRefreshToken**ì´ ì˜ë„ëœ ë©”ì„œë“œëª…ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.

---

### âœ¨ ìš”ì•½

| í•­ëª©    | ì„¤ëª…                                                          |
| ----- | ----------------------------------------------------------- |
| ëª©ì     | ë¦¬í”„ë ˆì‹œ í† í°ì„ DBì— ì €ì¥í•˜ê¸° ìœ„í•œ JPA ì—”í‹°í‹°                                |
| ì£¼ìš” í•„ë“œ | `tokenId`, `token`, `keyEmail`                              |
| ì‚¬ìš© ì˜ˆ  | ë¡œê·¸ì¸ ì‹œ ë°œê¸‰í•œ ë¦¬í”„ë ˆì‹œ í† í°ì„ DBì— ì €ì¥í•˜ê±°ë‚˜ ê°±ì‹ í•  ë•Œ ì‚¬ìš©                       |
| íŠ¹ì§•    | `@Builder` íŒ¨í„´ìœ¼ë¡œ ê°ì²´ ìƒì„± í¸ë¦¬, `default`ì™€ `create` ë©”ì„œë“œë¡œ ìœ í‹¸ ê¸°ëŠ¥ ì œê³µ |

'''


